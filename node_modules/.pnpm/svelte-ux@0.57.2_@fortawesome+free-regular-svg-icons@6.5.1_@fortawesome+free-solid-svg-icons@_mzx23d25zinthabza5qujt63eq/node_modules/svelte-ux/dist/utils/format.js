import { isFunction } from 'lodash-es';
import { formatDate, PeriodType } from './date';
import { formatNumber } from './number';
export function format(value, format, ...extraFuncArgs) {
    let formattedValue = value ?? ''; // Do not render `null`
    if (format) {
        if (isFunction(format)) {
            formattedValue = format(value, ...extraFuncArgs);
        }
        else if (format in PeriodType) {
            formattedValue = formatDate(value, format, ...extraFuncArgs);
        }
        else if (typeof value === 'number') {
            formattedValue = formatNumber(value, {
                style: format,
                ...extraFuncArgs[0],
            });
        }
    }
    return formattedValue ?? ''; // return empty string so Svelte doesn't render `null` string;
}
