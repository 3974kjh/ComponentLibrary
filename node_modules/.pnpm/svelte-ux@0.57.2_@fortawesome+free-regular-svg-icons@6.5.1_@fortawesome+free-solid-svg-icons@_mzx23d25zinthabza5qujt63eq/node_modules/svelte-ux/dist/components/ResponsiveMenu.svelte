<script>import { matchMediaWidth } from '../stores/matchMedia';
import Drawer from './Drawer.svelte';
import Menu from './Menu.svelte';
import { cls } from '../utils/styles';
export let open = true;
export let screenWidth = 768; // md+
export let menuProps = undefined;
export let drawerProps = undefined;
const isLargeScreen = matchMediaWidth(screenWidth);
</script>

{#if $isLargeScreen}
  <!-- Default explicitClose={true} to match Drawer behavior -->
  <Menu
    bind:open
    on:close
    explicitClose
    {...menuProps}
    class={cls('ResponsiveMenu', $$props.class, menuProps?.class)}
  >
    <slot {open} />
  </Menu>
{:else}
  <Drawer
    bind:open
    placement="bottom"
    on:close
    {...drawerProps}
    class={cls('ResponsiveMenu', $$props.class, drawerProps?.class)}
  >
    <slot {open} />
  </Drawer>
{/if}
