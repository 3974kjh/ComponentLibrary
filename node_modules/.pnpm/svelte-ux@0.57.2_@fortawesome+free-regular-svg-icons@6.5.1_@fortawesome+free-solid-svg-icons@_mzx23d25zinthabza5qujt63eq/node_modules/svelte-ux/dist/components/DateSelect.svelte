<script>/*
  TODO:
    - [ ] Set max-height / overflow on MonthListByYear, YearList
*/
import { startOfMonth as startOfMonthFunc } from 'date-fns';
import { PeriodType } from '../utils/date';
import Month from './Month.svelte';
import MonthListByYear from './MonthListByYear.svelte';
import YearList from './YearList.svelte';
export let selected = null;
export let periodType = PeriodType.Day;
export let activeDate = 'from';
$: startOfMonth = selected?.[activeDate] ? startOfMonthFunc(selected[activeDate]) : undefined;
</script>

{#if periodType === PeriodType.Month || periodType === PeriodType.Quarter}
  <MonthListByYear {selected} on:dateChange />
{:else if periodType === PeriodType.CalendarYear}
  <YearList {selected} on:dateChange />
{:else if periodType === PeriodType.FiscalYearOctober}
  <!-- dateFuncs={{
        startOfYear: startOfFiscalYear,
        endOfYear: endOfFiscalYear,
        isSameYear: isSameFiscalYear,
        getYear: getFiscalYear,
      }} -->
  <YearList {selected} on:dateChange />
{:else}
  <!-- Day, Week, etc -->
  <Month {selected} on:dateChange {startOfMonth} />
{/if}
