import { getContext, setContext } from 'svelte';
const settingsKey = Symbol();
export function settings(settings) {
    setContext(settingsKey, settings);
}
export function getSettings() {
    // in a try/catch to be able to test wo svelte components
    try {
        return getContext(settingsKey) ?? {};
    }
    catch (error) {
        return {};
    }
}
export function getFormatNumberOptions(style) {
    let toRet = {
        locales: 'en',
        currency: 'USD',
        fractionDigits: 2,
        currencyDisplay: 'symbol',
    };
    const settings = getSettings();
    toRet = { ...toRet, ...(settings.formats?.numbers?.defaults ?? {}) };
    if (style && style !== 'none') {
        toRet = { ...toRet, ...(settings.formats?.numbers?.[style] ?? {}) };
    }
    return toRet;
}
